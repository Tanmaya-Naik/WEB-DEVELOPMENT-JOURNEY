<html>
    <head>
        <title>
            Todos App
        </title>
    </head>

    <body style="background-color: gray;padding: 20px;">
        <h1>
            Todo using Dom Manipulation of State and Component
        </h1>
        <input type="text" placeholder="Enter your Todo Here..." style="height: 30px;width: 99%;">

        <button onclick="AddTodo()">Add Todo!</button>
        <button onclick="DeleteFirstTodo()">Delete First Todo</button>
        <button onclick="DeleteLastTodo()">Delete Last Todo</button>

        <div id="todos" style="margin-top: 20px;"></div>

        <script>
            let todos=[];
            function ComponentSetup(todo,index){
                const newDiv=document.createElement("div");
                const h1=document.createElement("h1");
                const button=document.createElement("button");
                h1.innerHTML=todo.title;
                button.innerHTML="Delete";

                button.setAttribute("onclick","DeleteTodo("+index+")");

                newDiv.append(h1);
                newDiv.append(button);

                return newDiv;

            }

            function render(){
                const TodoContainer=document.querySelector("#todos");
                TodoContainer.innerHTML="";

                for(let i=0;i<todos.length;i++){
                    const element=ComponentSetup(todos[i],i);
                    TodoContainer.appendChild(element);
                }
            }

            function AddTodo(){
                const value=document.querySelector("input").value.trim();

                if(value !==""){
                    todos.push({title: value});
                    render();
                    value="";
                }
            }

            function DeleteLastTodo(){
                todos.pop();
                render();
            }

            function DeleteFirstTodo(){
                todos.splice(0,1);
                render();
            }

            function DeleteTodo(index){
                todos.splice(index,1);
                render();

            }
        </script>

        
    </body>
</html>